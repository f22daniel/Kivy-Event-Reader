#: import Factory kivy.factory.Factory

<SettingsPopup>
    auto_dismiss: False
    markup: True
    size_hint: 0.75, 0.7
    pos_hint: {'center_x': 0.5, 'center_y': 0.5}
    title: 'Settings'
    valign: 'middle'
    canvas.before:
        Color:
            rgba: (102/255, 224/255, 1, 1)
        Rectangle:
            size: self.size
            pos: self.pos
    BoxLayout:
        size: root.width, root.height
        orientation: 'vertical'
        spacing: 4
        padding: 4
        GridLayout:
            size: root.width, root.height
            orientation: "lr-tb"
            spacing: 2
            padding: 2
            rows: 8
            cols: 3
            # Inputs where API's are added
            DescriptionLabel:
                text: "Infura API:"
            StandardTextInput:
                id: infura_api
                on_focus: root.update_infura_api(self.focus, self.text)
            ConnectivityLabel:
                id: infura_connectivity
            DescriptionLabel:
                text: "Polygon HTTP:"
            StandardTextInput:
                id: polygon_api
                on_focus: root.update_polygon_http(self.focus, self.text)
            ConnectivityLabel:
                id: polygon_connectivity
            DescriptionLabel:
                text: "Mumbai HTTP:"
            StandardTextInput:
                id: mumbai_api
                on_focus: root.update_mumbai_http(self.focus, self.text)
            ConnectivityLabel:
                id: mumbai_connectivity
            DescriptionLabel:
                text: "Bsc HTTP:"
            StandardTextInput:
                id: bsc_api
                on_focus: root.update_bsc_http(self.focus, self.text)
            ConnectivityLabel:
                id: bsc_connectivity
            DescriptionLabel:
                text: "Bsc Test HTTP:"
            StandardTextInput:
                id: bsc_testnet
                on_focus: root.update_bsc_testnet_http(self.focus, self.text)
            ConnectivityLabel:
                id: bsc_testnet_connectivity
            DescriptionLabel:
                text: "EtherScan API:"
            StandardTextInput:
                id: etherscan_api
                on_focus: root.update_scan_api(self.focus, self.text, "etherscan_api")
            ConnectivityLabel:
                id: etherscan_connectivity
            DescriptionLabel:
                text: "BscScan API:"
            StandardTextInput:
                id: bscscan_api
                on_focus: root.update_scan_api(self.focus, self.text, "bscscan_api")
            ConnectivityLabel:
                id: bscscan_connectivity
            DescriptionLabel:
                text: "PolygonScan API:"
            StandardTextInput:
                id: polygonscan_api
                on_focus: root.update_scan_api(self.focus, self.text, "polygonscan_api")
            ConnectivityLabel:
                id: polygonscan_connectivity
        BoxLayout:
            size: root.width, root.height
            orientation: "horizontal"
            spacing: 2
            padding: 2
            size_hint: 1, 0.15
            DefaultButton:
                text: "Cancel"
                font_size: 18
                bold: True
                size_hint: 0.33, 1
                on_release: root.dismiss()
                disabled: False
                canvas.before:
                    Color:
                        rgba: (173/255, 0, 119/255, 1)
                    RoundedRectangle:
                        size: self.size
                        pos: self.pos
                        radius: [12]
            DefaultButton:
                text: 'Confirm'
                font_size: 18
                bold: True
                size_hint: 0.33, 1
                disabled: False
                on_release:
                    root.dismiss()
                    root.save_data()